
<header ng-class="{top: scroll &gt; 82}" plat-width="plat-width">
  <section class="stats">
    <div class="label-input ver swapList">
      <label>模式:</label><span><a href="#" ng-class="{active: listShow}" ng-click="listShow = true">列表</a><a href="#" ng-class="{active: !listShow}" ng-click="listShow = false">编辑</a></span>
    </div>
    <div class="label-input ver swapState">
      <label>状态:</label><span><a href="#" ng-class="{active: stats == 1}" ng-click="stats = 1">有效</a><a href="#" ng-class="{active: stats == 0}" ng-click="stats = 0">无效</a></span>
    </div>
  </section>
  <section ng-include="'/static/mvms/partials/plat.html'" class="plat"></section>
</header>
<div ng-if="listShow" style="position: relative;">
  <div class="table_header video"><span style="width: 40%"><span>标题</span></span><span style="width: 40%"><span>ID</span></span><span style="text-align: right;width: 20%;"><span style="margin-right: 20px;">#</span></span></div>
  <section ng-class="{active: list &amp;&amp; list.length}" class="list channel showList">
    <div ng-repeat="item in list | filter: search" sortable="sortable" class="item">
      <label style="width: 40%;"><span>{{ item.name }}</span></label>
      <label style="width: 40%;"><span>{{ item.id }}</span></label>
    </div>
  </section>
  <div class="index-box flist"><i ng-repeat="item in list" ng-bind="$index+1" class="index"></i></div>
</div>
<section ng-class="{active: list &amp;&amp; list.length}" ng-if="!listShow" class="list video">
  <div ng-repeat="item in list | filter: search" h-light="h-light" class="item">
    <div ng-bind="$index+1" class="ndex"></div>
    <div class="item1">
      <div class="label-input horizon">
        <label>ID:</label><span>{{item.id}}</span>
      </div>
      <div class="label-input">
        <label ng-class="{error: item.action_type == 'ERROR' || !item.action_type || item.action_type == 'null'}">活动类型 <i ng-show="item.action_type == 'ERROR' || !item.action_type || item.action_type == 'null'">(必填)</i>:</label>
        <div class="label-radio horizon">
          <input type="radio" value="2" ng-model="item.action_type"/>内置浏览器
        </div>
        <div class="label-radio horizon">
          <input type="radio" value="3" ng-model="item.action_type"/>外置浏览器
        </div>
        <div class="label-radio horizon">
          <input type="radio" value="8" ng-model="item.action_type"/>直播中间页
        </div>
        <div class="label-radio horizon">
          <input type="radio" value="9" ng-model="item.action_type"/>直播播放器
        </div>
        <div class="label-radio horizon">
          <input type="radio" value="10" ng-model="item.action_type"/>专题
        </div>
      </div>
      <div class="label-input label-text">
        <label>标题:</label>
        <input type="text" ng-model="item.name"/>
      </div>
      <div class="label-input label-text">
        <label>副标题:</label>
        <input type="text" ng-model="item.sub_name"/>
      </div>
      <div class="label-input label-text">
        <label>action_url:</label>
        <input type="text" ng-model="item.action_url"/>
      </div>
      <div class="label-input label-text">
        <label>限制的渠道:</label>
        <input type="text" ng-model="item.limit_partner"/><small class="tip">*提示
          <div class="detail">
            <label>
              －1 全部允许; 指定限制的渠道,
              渠道号按逗号分割,例如: '1,2,3'
            </label>
          </div></small>
      </div>
    </div>
    <div class="item2">
      <div class="horizon"><img height="60" ng-src="{{item.icon}}" ng-click="view($event)"/></div>
      <div class="horizon"><img height="60" ng-src="{{item.thumb_pic}}" ng-click="view($event)"/></div>
      <button ng-click="upload(this)" class="vertical btn">上传图片</button>
    </div>
    <div class="item3">
      <p> <a href="#" ng-click="moveTop(this)">置顶</a><a href="#" ng-click="moveBottom(this)">置底</a></p>
      <p> <a href="#" ng-click="moveUp(this)">上移</a><a href="#" ng-click="moveDown(this)">下移</a></p>
      <p> <a href="#" ng-click="changeStatus(item, $event)" ng-class="{on: item.status == 1}" class="iosBtn"></a></p>
      <p><a href="#" ng-click="applyOthers(this)">其他平台</a></p>
    </div>
  </div>
</section>
<button ng-class="{show: list &amp;&amp; list.length}" ng-click="listProvider.save()" class="save btn">保存</button>
<script type="text/ng-template" id="mutlUpload.html">
  <div class="modal-header">
    <h3>上传图片</h3>
  </div>
  <div class="modal-body">
    <div class="label-input label-text"><a ng-href="{{item.icon}}" target="_blank"><img width="60" ng-src="{{item.icon}}" style="display: inline-block;vertical-align: middle;margin-right: 20px;"/></a>
      <label>图标:</label>
      <input type="text" ng-model="item.icon" class="xxlarge"/>
      <input type="file" upload="item.icon"/>
    </div>
    <div class="label-input label-text"><a ng-href="{{item.icon_v4}}" target="_blank"><img width="60" ng-src="{{item.thumb_pic}}" style="display: inline-block;vertical-align: middle;margin-right: 20px;"/></a>
      <label>缩略图:</label>
      <input type="text" ng-model="item.thumb_pic" class="xxlarge"/>
      <input type="file" upload="item.thumb_pic"/>
    </div>
  </div>
  <div class="modal-footer">
    <button ng-click="cancel()" class="btn yellow">取消</button>
    <button ng-click="ok()" class="btn blue">确定</button>
  </div>
</script>